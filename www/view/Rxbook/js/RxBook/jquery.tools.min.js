(function (e) { function r(r, i) { var s = this, o = r.add(s), u = e(window), f, l, h, p = e.tools.expose && (i.mask || i.expose), d = Math.random().toString().slice(10); p && (typeof p == "string" && (p = { color: p }), p.closeOnClick = p.closeOnEsc = !1); var v = i.target || r.attr("rel"); l = v ? e(v) : null || r; if (!l.length) throw "Could not find Overlay: " + v; r && r.index(l) == -1 && r.click(function (e) { s.load(e); return e.preventDefault() }), e.extend(s, { load: function (r) { if (s.isOpened()) return s; var f = n[i.effect]; if (!f) throw 'Overlay: cannot find effect : "' + i.effect + '"'; i.oneInstance && e.each(t, function () { this.close(r) }), r = r || e.Event(), r.type = "onBeforeLoad", o.trigger(r); if (r.isDefaultPrevented()) return s; h = !0, p && e(l).expose(p); var v = i.top, y = i.left, w = l.outerWidth({ margin: !0 }), E = l.outerHeight({ margin: !0 }); typeof v == "string" && (v = v == "center" ? Math.max((u.height() - E) / 2, 0) : parseInt(v, 10) / 100 * u.height()), y == "center" && (y = Math.max((u.width() - w) / 2, 0)), f[0].call(s, { top: v, left: y }, function () { h && (r.type = "onLoad", o.trigger(r)) }), p && i.closeOnClick && e.mask.getMask().one("click", s.close), i.closeOnClick && e(document).on("click." + d, function (t) { e(t.target).parents(l).length || s.close(t) }), i.closeOnEsc && e(document).on("keydown." + d, function (e) { e.keyCode == 27 && s.close(e) }); return s }, close: function (t) { if (!s.isOpened()) return s; t = t || e.Event(), t.type = "onBeforeClose", o.trigger(t); if (!t.isDefaultPrevented()) { h = !1, n[i.effect][1].call(s, function () { t.type = "onClose", o.trigger(t) }), e(document).off("click." + d + " keydown." + d), p && e.mask.close(); return s } }, getOverlay: function () { return l }, getTrigger: function () { return r }, getClosers: function () { return f }, isOpened: function () { return h }, getConf: function () { return i } }), e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","), function (t, n) { e.isFunction(i[n]) && e(s).on(n, i[n]), s[n] = function (t) { t && e(s).on(n, t); return s } }), f = l.find(i.close || ".close"), !f.length && !i.close && (f = e('<a class="close"></a>'), l.prepend(f)), f.click(function (e) { s.close(e) }), i.load && s.load() } e.tools = e.tools || { version: "v1.2.7" }, e.tools.overlay = { addEffect: function (e, t, r) { n[e] = [t, r] }, conf: { close: null, closeOnClick: !0, closeOnEsc: !0, closeSpeed: "fast", effect: "default", fixed: !e.browser.msie || e.browser.version > 6, left: "center", load: !1, mask: null, oneInstance: !0, speed: "normal", target: null, top: "10%" } }; var t = [], n = {}; e.tools.overlay.addEffect("default", function (t, n) { var r = this.getConf(), i = e(window); r.fixed || (t.top += i.scrollTop(), t.left += i.scrollLeft()), t.position = r.fixed ? "fixed" : "absolute", this.getOverlay().css(t).fadeIn(r.speed, n) }, function (e) { this.getOverlay().fadeOut(this.getConf().closeSpeed, e) }); e.fn.overlay = function (n) { var i = this.data("overlay"); if (i) return i; e.isFunction(n) && (n = { onBeforeLoad: n }), n = e.extend(!0, {}, e.tools.overlay.conf, n), this.each(function () { i = new r(e(this), n), t.push(i), e(this).data("overlay", i) }); return n.api ? i : this } })(jQuery); (function (e) { function r(e) { var t = e.offset(); return { top: t.top + e.height() / 2, left: t.left + e.width() / 2 } } var t = e.tools.overlay, n = e(window); e.extend(t.conf, { start: { top: null, left: null }, fadeInSpeed: "fast", zIndex: 9999 }); var i = function (t, i) { var s = this.getOverlay(), o = this.getConf(), u = this.getTrigger(), f = this, l = s.outerWidth({ margin: !0 }), h = s.data("img"), p = o.fixed ? "fixed" : "absolute"; if (!h) { var v = s.css("backgroundImage"); if (!v) throw "background-image CSS property not set for overlay"; v = v.slice(v.indexOf("(") + 1, v.indexOf(")")).replace(/\"/g, ""), s.css("backgroundImage", "none"), h = e('<img src="' + v + '"/>'), h.css({ border: 0, display: "none" }).width(l), e("body").append(h), s.data("img", h) } var m = o.start.top || Math.round(n.height() / 2), g = o.start.left || Math.round(n.width() / 2); if (u) { var y = r(u); m = y.top, g = y.left } o.fixed ? (m -= n.scrollTop(), g -= n.scrollLeft()) : (t.top += n.scrollTop(), t.left += n.scrollLeft()), h.css({ position: "absolute", top: m, left: g, width: 0, zIndex: o.zIndex }).show(), t.position = p, s.css(t), h.animate({ top: t.top, left: t.left, width: l }, o.speed, function () { s.css("zIndex", o.zIndex + 1).fadeIn(o.fadeInSpeed, function () { f.isOpened() && !e(this).index(s) ? i.call() : s.hide() }) }).css("position", p) }, s = function (t) { var i = this.getOverlay().hide(), s = this.getConf(), o = this.getTrigger(), u = i.data("img"), f = { top: s.start.top, left: s.start.left, width: 0 }; o && e.extend(f, r(o)), s.fixed && u.css({ position: "absolute" }).animate({ top: "+=" + n.scrollTop(), left: "+=" + n.scrollLeft() }, 0), u.animate(f, s.closeSpeed, t) }; t.addEffect("apple", i, s) })(jQuery); (function (e) { function t(e, t) { var n = parseInt(e.css(t), 10); if (n) return n; var r = e[0].currentStyle; return r && r.width && parseInt(r.width, 10) } function n(t, n) { var r = e(n); return r.length < 2 ? r : t.parent().find(n) } function i(t, i) { var s = this, o = t.add(s), u = t.children(), f = 0, l = i.vertical; r || (r = s), u.length > 1 && (u = e(i.items, t)), i.size > 1 && (i.circular = !1), e.extend(s, { getConf: function () { return i }, getIndex: function () { return f }, getSize: function () { return s.getItems().size() }, getNaviButtons: function () { return m.add(g) }, getRoot: function () { return t }, getItemWrap: function () { return u }, getItems: function () { return u.find(i.item).not("." + i.clonedClass) }, move: function (e, t) { return s.seekTo(f + e, t) }, next: function (e) { return s.move(i.size, e) }, prev: function (e) { return s.move(-i.size, e) }, begin: function (e) { return s.seekTo(0, e) }, end: function (e) { return s.seekTo(s.getSize() - 1, e) }, focus: function () { r = s; return s }, addItem: function (t) { t = e(t), i.circular ? (u.children().last().before(t), u.children().first().replaceWith(t.clone().addClass(i.clonedClass))) : (u.append(t), g.removeClass("disabled")), o.trigger("onAddItem", [t]); return s }, seekTo: function (t, n, c) { t.jquery || (t *= 1); if (i.circular && t === 0 && f == -1 && n !== 0) return s; if (!i.circular && t < 0 || t > s.getSize() || t < -1) return s; var h = t; t.jquery ? t = s.getItems().index(t) : h = s.getItems().eq(t); var p = e.Event("onBeforeSeek"); if (!c) { o.trigger(p, [t, n]); if (p.isDefaultPrevented() || !h.length) return s } var v = l ? { top: -h.position().top } : { left: -h.position().left }; f = t, r = s, n === undefined && (n = i.speed), u.animate(v, n, i.easing, c || function () { o.trigger("onSeek", [t]) }); return s } }), e.each(["onBeforeSeek", "onSeek", "onAddItem"], function (t, n) { e.isFunction(i[n]) && e(s).on(n, i[n]), s[n] = function (t) { t && e(s).on(n, t); return s } }); if (i.circular) { var h = s.getItems().slice(-1).clone().prependTo(u), p = s.getItems().eq(1).clone().appendTo(u); h.add(p).addClass(i.clonedClass), s.onBeforeSeek(function (e, t, n) { if (!e.isDefaultPrevented()) { if (t == -1) { s.seekTo(h, n, function () { s.end(0) }); return e.preventDefault() } t == s.getSize() && s.seekTo(p, n, function () { s.begin(0) }) } }); var v = t.parents().add(t).filter(function () { if (e(this).css("display") === "none") return !0 }); v.length ? (v.show(), s.seekTo(0, 0, function () { }), v.hide()) : s.seekTo(0, 0, function () { }) } var m = n(t, i.prev).click(function (e) { e.stopPropagation(), s.prev() }), g = n(t, i.next).click(function (e) { e.stopPropagation(), s.next() }); i.circular || (s.onBeforeSeek(function (e, t) { setTimeout(function () { e.isDefaultPrevented() || (m.toggleClass(i.disabledClass, t <= 0), g.toggleClass(i.disabledClass, t >= s.getSize() - 1)) }, 1) }), i.initialIndex || m.addClass(i.disabledClass)), s.getSize() < 2 && m.add(g).addClass(i.disabledClass), i.mousewheel && e.fn.mousewheel && t.mousewheel(function (e, t) { if (i.mousewheel) { s.move(t < 0 ? 1 : -1, i.wheelSpeed || 50); return !1 } }); if (i.touch) { var y = {}; u[0].ontouchstart = function (e) { var t = e.touches[0]; y.x = t.clientX, y.y = t.clientY }, u[0].ontouchmove = function (e) { if (e.touches.length == 1 && !u.is(":animated")) { var t = e.touches[0], n = y.x - t.clientX, r = y.y - t.clientY; s[l && r > 0 || !l && n > 0 ? "next" : "prev"](), e.preventDefault() } } } i.keyboard && e(document).on("keydown.scrollable", function (t) { if (!(!i.keyboard || t.altKey || t.ctrlKey || t.metaKey || e(t.target).is(":input"))) { if (i.keyboard != "static" && r != s) return; var n = t.keyCode; if (l && (n == 38 || n == 40)) { s.move(n == 38 ? -1 : 1); return t.preventDefault() } if (!l && (n == 37 || n == 39)) { s.move(n == 37 ? -1 : 1); return t.preventDefault() } } }), i.initialIndex && s.seekTo(i.initialIndex, 0, function () { }) } e.tools = e.tools || { version: "v1.2.7" }, e.tools.scrollable = { conf: { activeClass: "active", circular: !1, clonedClass: "cloned", disabledClass: "disabled", easing: "swing", initialIndex: 0, item: "> *", items: ".items", keyboard: !0, mousewheel: !1, next: ".next", prev: ".prev", size: 1, speed: 400, vertical: !1, touch: !0, wheelSpeed: 0 } }; var r; e.fn.scrollable = function (t) { var n = this.data("scrollable"); if (n) return n; t = e.extend({}, e.tools.scrollable.conf, t), this.each(function () { n = new i(e(this), t), e(this).data("scrollable", n) }); return t.api ? n : this } })(jQuery); (function (e) { function n(t, n, r) { var i = r.relative ? t.position().top : t.offset().top, s = r.relative ? t.position().left : t.offset().left, o = r.position[0]; i -= n.outerHeight() - r.offset[0], s += t.outerWidth() + r.offset[1], /iPad/i.test(navigator.userAgent) && (i -= e(window).scrollTop()); var u = n.outerHeight() + t.outerHeight(); o == "center" && (i += u / 2), o == "bottom" && (i += u), o = r.position[1]; var f = n.outerWidth() + t.outerWidth(); o == "center" && (s -= f / 2), o == "left" && (s -= f); return { top: i, left: s } } function r(r, i) { var s = this, o = r.add(s), u, f = 0, l = 0, h = r.attr("title"), p = r.attr("data-tooltip"), d = t[i.effect], v, m = r.is(":input"), g = m && r.is(":checkbox, :radio, select, :button, :submit"), y = r.attr("type"), w = i.events[y] || i.events[m ? g ? "widget" : "input" : "def"]; if (!d) throw 'Nonexistent effect "' + i.effect + '"'; w = w.split(/,\s*/); if (w.length != 2) throw "Tooltip: bad events configuration for " + y; r.on(w[0], function (e) { clearTimeout(f), i.predelay ? l = setTimeout(function () { s.show(e) }, i.predelay) : s.show(e) }).on(w[1], function (e) { clearTimeout(l), i.delay ? f = setTimeout(function () { s.hide(e) }, i.delay) : s.hide(e) }), h && i.cancelDefault && (r.removeAttr("title"), r.data("title", h)), e.extend(s, { show: function (t) { if (!u) { p ? u = e(p) : i.tip ? u = e(i.tip).eq(0) : h ? u = e(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(h) : (u = r.next(), u.length || (u = r.parent().next())); if (!u.length) throw "Cannot find tooltip for " + r } if (s.isShown()) return s; u.stop(!0, !0); var m = n(r, u, i); i.tip && u.html(r.data("title")), t = e.Event(), t.type = "onBeforeShow", o.trigger(t, [m]); if (t.isDefaultPrevented()) return s; m = n(r, u, i), u.css({ position: "absolute", top: m.top, left: m.left }), v = !0, d[0].call(s, function () { t.type = "onShow", v = "full", o.trigger(t) }); var g = i.events.tooltip.split(/,\s*/); u.data("__set") || (u.off(g[0]).on(g[0], function () { clearTimeout(f), clearTimeout(l) }), g[1] && !r.is("input:not(:checkbox, :radio), textarea") && u.off(g[1]).on(g[1], function (e) { e.relatedTarget != r[0] && r.trigger(w[1].split(" ")[0]) }), i.tip || u.data("__set", !0)); return s }, hide: function (n) { if (!u || !s.isShown()) return s; n = e.Event(), n.type = "onBeforeHide", o.trigger(n); if (!n.isDefaultPrevented()) { v = !1, t[i.effect][1].call(s, function () { n.type = "onHide", o.trigger(n) }); return s } }, isShown: function (e) { return e ? v == "full" : v }, getConf: function () { return i }, getTip: function () { return u }, getTrigger: function () { return r } }), e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","), function (t, n) { e.isFunction(i[n]) && e(s).on(n, i[n]), s[n] = function (t) { t && e(s).on(n, t); return s } }) } e.tools = e.tools || { version: "v1.2.7" }, e.tools.tooltip = { conf: { effect: "toggle", fadeOutSpeed: "fast", predelay: 0, delay: 30, opacity: 1, tip: 0, fadeIE: !1, position: ["top", "center"], offset: [0, 0], relative: !1, cancelDefault: !0, events: { def: "mouseenter,mouseleave", input: "focus,blur", widget: "focus mouseenter,blur mouseleave", tooltip: "mouseenter,mouseleave" }, layout: "<div/>", tipClass: "tooltip" }, addEffect: function (e, n, r) { t[e] = [n, r] } }; var t = { toggle: [function (e) { var t = this.getConf(), n = this.getTip(), r = t.opacity; r < 1 && n.css({ opacity: r }), n.show(), e.call() }, function (e) { this.getTip().hide(), e.call() }], fade: [function (t) { var n = this.getConf(); !e.browser.msie || n.fadeIE ? this.getTip().fadeTo(n.fadeInSpeed, n.opacity, t) : (this.getTip().show(), t()) }, function (t) { var n = this.getConf(); !e.browser.msie || n.fadeIE ? this.getTip().fadeOut(n.fadeOutSpeed, t) : (this.getTip().hide(), t()) }] }; e.fn.tooltip = function (t) { var n = this.data("tooltip"); if (n) return n; t = e.extend(!0, {}, e.tools.tooltip.conf, t), typeof t.position == "string" && (t.position = t.position.split(/,?\s/)), this.each(function () { n = new r(e(this), t), e(this).data("tooltip", n) }); return t.api ? n : this } })(jQuery); (function (e) { function n(t) { var n = e(window), r = n.width() + n.scrollLeft(), i = n.height() + n.scrollTop(); return [t.offset().top <= n.scrollTop(), r <= t.offset().left + t.width(), i <= t.offset().top + t.height(), n.scrollLeft() >= t.offset().left] } function r(e) { var t = e.length; while (t--) if (e[t]) return !1; return !0 } var t = e.tools.tooltip; t.dynamic = { conf: { classNames: "top right bottom left" } }; e.fn.dynamic = function (i) { typeof i == "number" && (i = { speed: i }), i = e.extend({}, t.dynamic.conf, i); var s = e.extend(!0, {}, i), o = i.classNames.split(/\s/), u; this.each(function () { var t = e(this).tooltip().onBeforeShow(function (t, i) { var l = this.getTip(), p = this.getConf(); u || (u = [p.position[0], p.position[1], p.offset[0], p.offset[1], e.extend({}, p)]), e.extend(p, u[4]), p.position = [u[0], u[1]], p.offset = [u[2], u[3]], l.css({ visibility: "hidden", position: "absolute", top: i.top, left: i.left }).show(); var v = e.extend(!0, {}, s), m = n(l); if (!r(m)) { m[2] && (e.extend(p, v.top), p.position[0] = "top", l.addClass(o[0])), m[3] && (e.extend(p, v.right), p.position[1] = "right", l.addClass(o[1])), m[0] && (e.extend(p, v.bottom), p.position[0] = "bottom", l.addClass(o[2])), m[1] && (e.extend(p, v.left), p.position[1] = "left", l.addClass(o[3])); if (m[0] || m[2]) p.offset[0] *= -1; if (m[1] || m[3]) p.offset[1] *= -1 } l.css({ visibility: "visible" }).hide() }); t.onBeforeShow(function () { var e = this.getConf(), t = this.getTip(); setTimeout(function () { e.position = [u[0], u[1]], e.offset = [u[2], u[3]] }, 0) }), t.onHide(function () { var e = this.getTip(); e.removeClass(i.classNames) }), ret = t }); return i.api ? ret : this } })(jQuery); (function (e) { var t = e.tools.tooltip; e.extend(t.conf, { direction: "up", bounce: !1, slideOffset: 10, slideInSpeed: 200, slideOutSpeed: 200, slideFade: !e.browser.msie }); var n = { up: ["-", "top"], down: ["+", "top"], left: ["-", "left"], right: ["+", "left"] }; t.addEffect("slide", function (e) { var t = this.getConf(), r = this.getTip(), i = t.slideFade ? { opacity: t.opacity } : {}, s = n[t.direction] || n.up; i[s[1]] = s[0] + "=" + t.slideOffset, t.slideFade && r.css({ opacity: 0 }), r.show().animate(i, t.slideInSpeed, e) }, function (t) { var r = this.getConf(), i = r.slideOffset, s = r.slideFade ? { opacity: 0 } : {}, o = n[r.direction] || n.up, u = "" + o[0]; r.bounce && (u = u == "+" ? "-" : "+"), s[o[1]] = u + "=" + i, this.getTip().animate(s, r.slideOutSpeed, function () { e(this).hide(), t.call() }) }) })(jQuery)